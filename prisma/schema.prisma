// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String    @id
  createdAt DateTime? @default(now())
  updatedAt DateTime? @default(now()) @updatedAt
}

model Seance {
  id              String           @id
  nomSeance       String
  idUtilisateur   String
  exerciceSeances ExerciceSeance[]
}

model Exercice {
  id          String @id
  nomExercice String
  categorie   String
}

model ExerciceSeance {
  id                   String                @id
  seance               Seance                @relation(fields: [idSeance], references: [id])
  serieExerciceSeances SerieExerciceSeance[]
  idSeance             String
  idExercice           String
  nomExercice          String
  categorie            String
  ordre                Int
}

model SerieExerciceSeance {
  id               String         @id
  exerciceSeance   ExerciceSeance @relation(fields: [idExerciceSeance], references: [id])
  idExerciceSeance String
  repetitions      Int
  ordre            Int
}

model Entrainement {
  id                    String                 @id
  nomSeance             String
  exerciceEntrainements ExerciceEntrainement[]
}

model ExerciceEntrainement {
  id                 String              @id
  entrainement       Entrainement        @relation(fields: [idEntrainement], references: [id])
  idEntrainement     String
  estRealise         Boolean
  tempsRepos         Int
  nomExercice        String
  categorie          String
  serieEntrainements SerieEntrainement[]
}

model SerieEntrainement {
  id                     String               @id
  exerciceEntrainement   ExerciceEntrainement @relation(fields: [idExerciceEntrainement], references: [id])
  idExerciceEntrainement String
  nombreRepetition       Int
  estRealise       Boolean
}
