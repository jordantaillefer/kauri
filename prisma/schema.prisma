// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String    @id
  nom       String
  prenom    String
  createdAt DateTime? @default(now())
  updatedAt DateTime? @default(now()) @updatedAt
}

model Seance {
  id              String           @id
  nomSeance       String
  idUtilisateur   String
  exerciceSeances ExerciceSeance[]
}

model Exercice {
  id          String @id
  nomExercice String
  categorie   String
}

model ExerciceSeance {
  id                   String                @id
  seance               Seance                @relation(fields: [idSeance], references: [id], onDelete: Cascade)
  serieExerciceSeances SerieExerciceSeance[]
  idSeance             String
  idExercice           String
  nomExercice          String
  categorie            String
  ordre                Int
}

model SerieExerciceSeance {
  id               String         @id
  exerciceSeance   ExerciceSeance @relation(fields: [idExerciceSeance], references: [id], onDelete: Cascade)
  idExerciceSeance String
  repetitions      Int
  tempsRepos       Int
  ordre            Int
}

model Entrainement {
  id                    String                 @id
  idUtilisateur         String
  nomSeance             String
  exerciceEntrainements ExerciceEntrainement[]
}

model ExerciceEntrainement {
  id                 String              @id
  entrainement       Entrainement        @relation(fields: [idEntrainement], references: [id], onDelete: Cascade)
  idEntrainement     String
  estRealise         Boolean
  nomExercice        String
  categorie          String
  ordre              Int
  serieEntrainements SerieEntrainement[]
}

model SerieEntrainement {
  id                     String               @id
  exerciceEntrainement   ExerciceEntrainement @relation(fields: [idExerciceEntrainement], references: [id], onDelete: Cascade)
  tempsRepos             Int
  idExerciceEntrainement String
  nombreRepetition       Int
  ordre                  Int
  estRealise             Boolean
}

model SportifEvenement {
  id             String @id
  idSeance       String
  idUtilisateur  String
  tempsEvenement String
}
